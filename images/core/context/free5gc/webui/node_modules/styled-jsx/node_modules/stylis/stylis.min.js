!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(null):"function"==typeof define&&define.amd?define(e(null)):window.stylis=e(null)}(function e(a){"use strict";function c(e,a,s,f){for(var o,h,d=0,b=0,g=0,p=0,w=0,A=0,C=0,v=0,m=0,x=0,$=0,y=0,F=0,N=0,B=0,S=0,W=0,q=0,D=0,G=s.length,H=G-1,ce="",ze="",Fe="",We="",De="",Ee="";B<G;){if(C=s.charCodeAt(B),b+p+g+d===0){if(B===H){if(S>0)ze=ze.replace(k,"");if(ze.trim().length>0){switch(C){case _:case Y:case L:case X:case V:break;default:ze+=s.charAt(B)}C=L}}if(1===W)switch(C){case P:case se:W=0;break;case Y:case X:case V:case _:break;default:B--,C=L}switch(C){case P:for(w=(ze=ze.trim()).charCodeAt(0),$=1,D=++B;B<G;){switch(C=s.charCodeAt(B)){case P:$++;break;case M:$--}if(0===$)break;B++}if(Fe=s.substring(D,B),w===de)w=(ze=ze.replace(u,"").trim()).charCodeAt(0);switch(w){case Z:if(S>0)ze=ze.replace(k,"");switch(A=ze.charCodeAt(1)){case me:case ge:case pe:o=a;break;default:o=Se}if(Fe=c(a,o,Fe,A),D=Fe.length,Be>0&&0===D)D=ze.length;if(qe>0)if(o=r(Se,ze,q),h=l(Je,Fe,o,a,$e,xe,D,A),ze=o.join(""),void 0!==h)if(0===(D=(Fe=h.trim()).length))A=0,Fe="";if(D>0)switch(A){case pe:ze=ze.replace(E,i);case me:case ge:Fe=ze+"{"+Fe+"}";break;case ke:Fe=(ze=ze.replace(O,"$1 $2"+(Le>0?Me:"")))+"{"+Fe+"}",Fe="@"+(je>0?I+Fe+"@"+Fe:Fe);break;default:Fe=ze+Fe}else Fe="";break;default:Fe=c(a,r(a,ze,q),Fe,f)}De+=Fe,y=0,W=0,N=0,S=0,q=0,F=0,ze="",Fe="",C=s.charCodeAt(++B);break;case M:case L:if(ze=(S>0?ze.replace(k,""):ze).trim(),(D=ze.length)>1){if(0===N)if((w=ze.charCodeAt(0))===ae||w>96&&w<123)D=(ze=ze.replace(" ",":")).length;if(qe>0)if(void 0!==(h=l(He,ze,a,e,$e,xe,We.length,f)))if(0===(D=(ze=h.trim()).length))ze="\0\0";switch(w=ze.charCodeAt(0),A=ze.charCodeAt(1),w+A){case de:break;case Ce:case ve:Ee+=ze+s.charAt(B);break;default:if(ze.charCodeAt(D-1)===te)break;We+=t(ze,w,A,ze.charCodeAt(2))}}y=0,W=0,N=0,S=0,q=0,ze="",C=s.charCodeAt(++B)}}switch(C){case X:case V:if(b+p+g+d+Ne===0)switch(x){case R:case ie:case fe:case Z:case he:case le:case re:case oe:case ne:case ae:case te:case se:case L:case P:case M:break;default:if(N>0)W=1}if(b===ne)b=0;if(qe*Ke>0)l(Ge,ze,a,e,$e,xe,We.length,f);xe=1,$e++;break;case L:case M:if(b+p+g+d===0){xe++;break}default:switch(xe++,ce=s.charAt(B),C){case Y:case _:if(p+d===0)switch(v){case se:case te:case Y:case _:ce="";break;default:if(C!==_)ce=" "}break;case de:ce="\\0";break;case be:ce="\\f";break;case ue:ce="\\v";break;case ee:if(p+b+d===0&&Oe>0)q=1,S=1,ce="\f"+ce;break;case 108:if(p+b+d+ye===0&&N>0)switch(B-N){case 2:if(v===we&&s.charCodeAt(B-3)===te)ye=v;case 8:if(m===Ae)ye=m}break;case te:if(p+b+d===0)N=B;break;case se:if(b+g+p+d===0)S=1,ce+="\r";break;case fe:case ie:if(0===b)if(p=p===C?0:0===p?C:p,B===H)H++,G++;break;case T:if(p+b+g===0)d++;break;case U:if(p+b+g===0)d--;break;case R:if(p+b+d===0){if(B===H)H++,G++;g--}break;case Q:if(p+b+d===0){if(0===y)switch(2*v+3*m){case 533:break;default:$=0,y=1}g++}break;case Z:if(b+g+p+d+N+F===0)F=1;break;case re:case ne:if(p+d+g>0)break;switch(b){case 0:switch(2*C+3*s.charCodeAt(B+1)){case 235:b=ne;break;case 220:b=re}break;case re:if(C===ne&&v===re)ce="",b=0}}if(0===b){if(Oe+p+d+F===0&&f!==ke&&C!==L)switch(C){case se:case he:case le:case oe:case R:case Q:if(0===y){switch(v){case Y:case _:case V:case X:ce+="\0";break;default:ce="\0"+ce+(C===se?"":"\0")}S=1}else switch(C){case Q:y=++$;break;case R:if(0==(y=--$))S=1,ce+="\0"}break;case _:switch(v){case de:case P:case M:case L:case se:case be:case Y:case _:case V:case X:break;default:if(0===y)S=1,ce+="\0"}}if(ze+=ce,C!==_)x=C}}m=v,v=C,B++}if(D=We.length,Be>0)if(0===D&&0===De.length&&0===a[0].length==false)if(f!==ge||1===a.length&&(Oe>0?Pe:Qe)===a[0])D=a.join(",").length+2;if(D>0){if(o=0===Oe&&f!==ke?n(a):a,qe>0)if(void 0!==(h=l(Ie,We,o,e,$e,xe,D,f))&&0===(We=h).length)return Ee+We+De;if(We=o.join(",")+"{"+We+"}",je*ye>0){switch(ye){case Ae:We=We.replace(z,":"+J+"$1")+We;break;case we:We=We.replace(j,"::"+I+"input-$1")+We.replace(j,"::"+J+"$1")+We.replace(j,":"+K+"input-$1")+We}ye=0}}return Ee+We+De}function r(e,a,c){var r=a.trim().split(m),t=r,i=r.length,f=e.length;switch(f){case 0:case 1:for(var n=0,l=0===f?"":e[0]+" ";n<i;++n)t[n]=s(l,t[n],c,f).trim();break;default:for(var n=0,o=0,t=[];n<i;++n)for(var h=0;h<f;++h)t[o++]=s(e[h]+" ",r[n],c,f).trim()}return t}function s(e,a,c,r){var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);switch(t){case ee:switch(Oe+r){case 0:case 1:if(0===e.trim().length)break;default:return s.replace(x,"$1"+e.trim())}break;case te:switch(s.charCodeAt(1)){case 103:if(ze>0&&Oe>0)return s.replace($,"$1").replace(x,"$1"+Qe);break;default:return e.trim()+s}default:if(c*Oe>0&&s.indexOf("\f")>0)return s.replace(x,(e.charCodeAt(0)===te?"":"$1")+e.trim())}return e+s}function t(e,a,c,r){var s,t=0,i=e+";",n=2*a+3*c+4*r;if(944===n)i=f(i);else if(je>0)switch(n){case 969:i=I+i.replace(D,I+"$1")+i;break;case 951:i=I+i+i;break;case 963:if(110===i.charCodeAt(5))i=I+i+i;break;case 978:i=I+i+J+i+i;break;case 1019:case 983:i=I+i+J+i+K+i+i;break;case 883:if(i.charCodeAt(8)===ae)i=I+i+i;break;case 932:i=I+i+K+i+i;break;case 964:i=I+i+K+"flex-"+i+i;break;case 1023:s=i.substring(i.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),i=I+"box-pack"+s+I+i+K+"flex-pack"+s+i;break;case 1017:if(-1===i.indexOf("sticky",9))break;case 975:switch(t=(i=e).length-10,s=(33===i.charCodeAt(t)?i.substring(0,t):i).substring(e.indexOf(":",7)+1).trim(),n=s.charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(s.charCodeAt(8)<111)break;case 115:i=i.replace(s,I+s)+";"+i;break;case 207:case 102:i=i.replace(s,I+(n>102?"inline-":"")+"box")+";"+i.replace(s,I+s)+";"+i.replace(s,K+s+"box")+";"+i}i+=";";break;case 938:if(i.charCodeAt(5)===ae)switch(i.charCodeAt(6)){case 105:s=i.replace("-items",""),i=I+i+I+"box-"+s+K+"flex-"+s+i;break;case 115:i=I+i+K+"flex-item-"+i.replace(H,"")+i;break;default:i=I+i+K+"flex-line-pack"+i.replace("align-content","")+i}break;case 1005:if(p.test(i))i=i.replace(g,":"+I)+i.replace(g,":"+J)+i;break;case 953:if((t=i.indexOf("-content",9))>0)if(109===i.charCodeAt(t-3)&&45!==i.charCodeAt(t-4))s=i.substring(t-3),i="width:"+I+s+"width:"+J+s+"width:"+s;break;case 1015:if(e.charCodeAt(9)!==ae)break;case 962:if(i=I+i+(102===i.charCodeAt(5)?K+i:"")+i,c+r===211&&105===i.charCodeAt(13)&&i.indexOf("transform",10)>0)i=i.substring(0,i.indexOf(";",27)+1).replace(w,"$1"+I+"$2")+i;break;case 1e3:switch(s=i.substring(13).trim(),t=s.indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=i.replace(q,"tb");break;case 232:s=i.replace(q,"tb-rl");break;case 220:s=i.replace(q,"lr");break;default:return i}i=I+i+K+s+i}return i}function i(e,a){var c=t(a,a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2));return c!==a+";"?c.replace(G,"or($1)").substring(2):"("+a+")"}function f(e){var a=e.length,c=e.indexOf(":",9)+1,r=e.substring(0,c).trim(),s=e.substring(c,a-1).trim(),t="";if(e.charCodeAt(9)!==ae)for(var i=s.split(A),f=0,c=0,a=i.length;f<a;c=0,++f){for(var n=i[f],l=n.split(C);n=l[c];){var o=n.charCodeAt(0);if(1===Le&&(o>Z&&o<90||o>96&&o<123||o===ce||o===ae&&n.charCodeAt(1)!==ae))switch(isNaN(parseFloat(n))+(-1!==n.indexOf("("))){case 1:switch(n){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:n+=Me}}l[c++]=n}t+=(0===f?"":",")+l.join(" ")}else t+=110===e.charCodeAt(10)?s+(1===Le?Me:""):s;return t=r+t+";",je>0?I+t+t:t}function n(e){for(var a,c,r=0,s=e.length,t=Array(s);r<s;++r){for(var i=e[r].split(v),f="",n=0,l=0,o=0,h=0,d=i.length;n<d;++n){if(0===(l=(c=i[n]).length)&&d>1)continue;if(o=f.charCodeAt(f.length-1),h=c.charCodeAt(0),a="",0!==n)switch(o){case re:case he:case le:case oe:case _:case Q:break;default:a=" "}switch(h){case ee:c=a+Pe;case he:case le:case oe:case _:case R:case Q:break;case T:c=a+c+Pe;break;case te:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:if(ze>0){c=a+c.substring(8,l-1);break}default:if(n<1||i[n-1].length<1)c=a+Pe+c}break;case se:a="";default:if(l>1&&c.indexOf(":")>0)c=a+c.replace(W,"$1"+Pe+"$2");else c=a+c+Pe}f+=c}t[r]=f.replace(k,"").trim()}return t}function l(e,a,c,r,s,t,i,f){for(var n,l=0,o=a;l<qe;++l)switch(n=We[l].call(b,e,o,c,r,s,t,i,f)){case void 0:case false:case true:case null:break;default:o=n}switch(o){case void 0:case false:case true:case null:case a:break;default:return o}}function o(e){return e.replace(k,"").replace(F,"").replace(N,"$1").replace(B,"$1").replace(S," ")}function h(e){switch(e){case void 0:case null:qe=We.length=0;break;default:switch(e.constructor){case Array:for(var a=0,c=e.length;a<c;++a)h(e[a]);break;case Function:We[qe++]=e;break;case Boolean:Ke=0|!!e}}return h}function d(e){for(var a in e){var c=e[a];switch(a){case"keyframe":Le=0|c;break;case"global":ze=0|c;break;case"cascade":Oe=0|c;break;case"compress":Fe=0|c;break;case"prefix":je=0|c;break;case"semicolon":Ne=0|c;break;case"preserve":Be=0|c}}return d}function b(a,r){if(void 0!==this&&this.constructor===b)return e(a);var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);if(Le>0)Me=s.replace(y,t===T?"":"-");if(t=1,1===Oe)Qe=s;else Pe=s;var i,f=[Qe];if(qe>0)if(void 0!==(i=l(Ee,r,f,f,$e,xe,0,0))&&"string"==typeof i)r=i;var n=c(Se,f,r,0);if(qe>0)if(void 0!==(i=l(De,n,f,f,$e,xe,n.length,0))&&"string"!=typeof(n=i))t=0;return Me="",Qe="",Pe="",ye=0,$e=1,xe=1,Fe*t==0?n:o(n)}var u=/^\0+/g,k=/[\0\r\f]/g,g=/: */g,p=/zoo|gra/,w=/([,: ])(transform)/g,A=/,+\s*(?![^(]*[)])/g,C=/ +\s*(?![^(]*[)])/g,v=/ *[\0] */g,m=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,$=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,y=/\W+/g,O=/@(k\w+)\s*(\S*)\s*/,j=/::(place)/g,z=/:(read-only)/g,F=/\s+(?=[{\];=:>])/g,N=/([[}=:>])\s+/g,B=/(\{[^{]+?);(?=\})/g,S=/\s{2,}/g,W=/([^\(])(:+) */g,q=/[svh]\w+-[tblr]{2}/,D=/([\w-]+t\()/g,E=/\(\s*([^]*?)\s*\)/g,G=/([^]*?);/g,H=/-self|flex-/g,I="-webkit-",J="-moz-",K="-ms-",L=59,M=125,P=123,Q=40,R=41,T=91,U=93,V=10,X=13,Y=9,Z=64,_=32,ee=38,ae=45,ce=95,re=42,se=44,te=58,ie=39,fe=34,ne=47,le=62,oe=43,he=126,de=0,be=12,ue=11,ke=107,ge=109,pe=115,we=112,Ae=111,Ce=169,ve=163,me=100,xe=1,$e=1,ye=0,Oe=1,je=1,ze=1,Fe=0,Ne=0,Be=0,Se=[],We=[],qe=0,De=-2,Ee=-1,Ge=0,He=1,Ie=2,Je=3,Ke=0,Le=1,Me="",Pe="",Qe="";if(b.use=h,b.set=d,void 0!==a)d(a);return b});