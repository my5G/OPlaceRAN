!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(null):"function"==typeof define&&define.amd?define(e(null)):window.stylis=e(null)}(function e(a){"use strict";function c(e,a,s,f,h){for(var u,d,b=0,p=0,A=0,w=0,C=0,v=0,m=0,x=0,$=0,y=0,O=0,N=0,B=0,S=0,W=0,q=0,D=0,G=0,H=0,I=s.length,re=I-1,Fe="",Ne="",qe="",Ee="",Ge="",He="";W<I;){if(m=s.charCodeAt(W),p+w+A+b===0){if(W===re){if(q>0)Ne=Ne.replace(g,"");if(Ne.trim().length>0){switch(m){case ee:case Z:case M:case Y:case X:break;default:Ne+=s.charAt(W)}m=M}}if(1===D)switch(m){case Q:case te:D=0;break;case Z:case Y:case X:case ee:break;default:W--,m=M}switch(m){case Q:for(C=(Ne=Ne.trim()).charCodeAt(0),O=1,H=++W;W<I;){switch(m=s.charCodeAt(W)){case Q:O++;break;case P:O--}if(0===O)break;W++}if(qe=s.substring(H,W),C===de)C=(Ne=Ne.replace(k,"").trim()).charCodeAt(0);switch(C){case _:if(q>0)Ne=Ne.replace(g,"");switch(v=Ne.charCodeAt(1)){case xe:case pe:case Ae:u=a;break;default:u=We}if(qe=c(a,u,qe,v,h+1),H=qe.length,Se>0&&0===H)H=Ne.length;if(De>0)if(u=r(We,Ne,G),d=o(Le,qe,u,a,ye,$e,H,v,h),Ne=u.join(""),void 0!==d)if(0===(H=(qe=d.trim()).length))v=0,qe="";if(H>0)switch(v){case Ae:Ne=Ne.replace(E,n);case xe:case pe:qe=Ne+"{"+qe+"}";break;case ge:if(Ne=Ne.replace(j,"$1 $2"+(Pe>0?Qe:"")),qe=Ne+"{"+qe+"}",1===ze||2===ze&&i("@"+qe,3))qe="@"+J+qe+"@"+qe;else qe="@"+qe;break;default:qe=Ne+qe}else qe="";break;default:qe=c(a,r(a,Ne,G),qe,f,h+1)}Ge+=qe,N=0,D=0,S=0,q=0,G=0,B=0,Ne="",qe="",m=s.charCodeAt(++W);break;case P:case M:if(Ne=(q>0?Ne.replace(g,""):Ne).trim(),(H=Ne.length)>1){if(0===S)if((C=Ne.charCodeAt(0))===ce||C>96&&C<123)H=(Ne=Ne.replace(" ",":")).length;if(De>0)if(void 0!==(d=o(Je,Ne,a,e,ye,$e,Ee.length,f,h)))if(0===(H=(Ne=d.trim()).length))Ne="\0\0";switch(C=Ne.charCodeAt(0),v=Ne.charCodeAt(1),C+v){case de:break;case ve:case me:He+=Ne+s.charAt(W);break;default:if(Ne.charCodeAt(H-1)===ie)break;Ee+=t(Ne,C,v,Ne.charCodeAt(2))}}N=0,D=0,S=0,q=0,G=0,Ne="",m=s.charCodeAt(++W)}}switch(m){case Y:case X:if(p+w+A+b+Be===0)switch(y){case T:case ne:case fe:case _:case ue:case oe:case se:case he:case le:case ce:case ie:case te:case M:case Q:case P:break;default:if(S>0)D=1}if(p===le)p=0;if(De*Me>0)o(Ie,Ne,a,e,ye,$e,Ee.length,f,h);$e=1,ye++;break;case M:case P:if(p+w+A+b===0){$e++;break}default:switch($e++,Fe=s.charAt(W),m){case Z:case ee:if(w+b===0)switch(x){case te:case ie:case Z:case ee:Fe="";break;default:if(m!==ee)Fe=" "}break;case de:Fe="\\0";break;case be:Fe="\\f";break;case ke:Fe="\\v";break;case ae:if(w+p+b===0&&je>0)G=1,q=1,Fe="\f"+Fe;break;case 108:if(w+p+b+Oe===0&&S>0)switch(W-S){case 2:if(x===we&&s.charCodeAt(W-3)===ie)Oe=x;case 8:if($===Ce)Oe=$}break;case ie:if(w+p+b===0)S=W;break;case te:if(p+A+w+b===0)q=1,Fe+="\r";break;case fe:case ne:if(0===p)if(w=w===m?0:0===w?m:w,W===re)re++,I++;break;case U:if(w+p+A===0)b++;break;case V:if(w+p+A===0)b--;break;case T:if(w+p+b===0){if(W===re)re++,I++;A--}break;case R:if(w+p+b===0){if(0===N)switch(2*x+3*$){case 533:break;default:O=0,N=1}A++}break;case _:if(p+A+w+b+S+B===0)B=1;break;case se:case le:if(w+b+A>0)break;switch(p){case 0:switch(2*m+3*s.charCodeAt(W+1)){case 235:p=le;break;case 220:H=W,p=se}break;case se:if(m===le&&x===se){if(33===s.charCodeAt(H+2))Ee+=s.substring(H,W+1);Fe="",p=0}}}if(0===p){if(je+w+b+B===0&&f!==ge&&m!==M)switch(m){case te:case ue:case oe:case he:case T:case R:if(0===N){switch(x){case Z:case ee:case X:case Y:Fe+="\0";break;default:Fe="\0"+Fe+(m===te?"":"\0")}q=1}else switch(m){case R:N=++O;break;case T:if(0==(N=--O))q=1,Fe+="\0"}break;case ee:switch(x){case de:case Q:case P:case M:case te:case be:case Z:case ee:case X:case Y:break;default:if(0===N)q=1,Fe+="\0"}}if(Ne+=Fe,m!==ee)y=m}}$=x,x=m,W++}if(H=Ee.length,Se>0)if(0===H&&0===Ge.length&&0===a[0].length==false)if(f!==pe||1===a.length&&(je>0?Re:Te)===a[0])H=a.join(",").length+2;if(H>0){if(u=0===je&&f!==ge?l(a):a,De>0)if(void 0!==(d=o(Ke,Ee,u,e,ye,$e,H,f,h))&&0===(Ee=d).length)return He+Ee+Ge;if(Ee=u.join(",")+"{"+Ee+"}",ze*Oe!=0){if(2===ze&&!i(Ee,2))Oe=0;switch(Oe){case Ce:Ee=Ee.replace(F,":"+K+"$1")+Ee;break;case we:Ee=Ee.replace(z,"::"+J+"input-$1")+Ee.replace(z,"::"+K+"$1")+Ee.replace(z,":"+L+"input-$1")+Ee}Oe=0}}return He+Ee+Ge}function r(e,a,c){var r=a.trim().split(x),t=r,i=r.length,n=e.length;switch(n){case 0:case 1:for(var f=0,l=0===n?"":e[0]+" ";f<i;++f)t[f]=s(l,t[f],c,n).trim();break;default:for(var f=0,o=0,t=[];f<i;++f)for(var h=0;h<n;++h)t[o++]=s(e[h]+" ",r[f],c,n).trim()}return t}function s(e,a,c,r){var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);switch(t){case ae:switch(je+r){case 0:case 1:if(0===e.trim().length)break;default:return s.replace($,"$1"+e.trim())}break;case ie:switch(s.charCodeAt(1)){case 103:if(Fe>0&&je>0)return s.replace(y,"$1").replace($,"$1"+Te);break;default:return e.trim()+s}default:if(c*je>0&&s.indexOf("\f")>0)return s.replace($,(e.charCodeAt(0)===ie?"":"$1")+e.trim())}return e+s}function t(e,a,c,r){var s,t=0,n=e+";",l=2*a+3*c+4*r;if(944===l)return f(n);else if(0===ze||2===ze&&!i(n,1))return n;switch(l){case 1015:return n.charCodeAt(9)===ce?J+n+n:n;case 951:return 116===n.charCodeAt(3)?J+n+n:n;case 963:return 110===n.charCodeAt(5)?J+n+n:n;case 969:case 942:return J+n+n;case 978:return J+n+K+n+n;case 1019:case 983:return J+n+K+n+L+n+n;case 883:return n.charCodeAt(8)===ce?J+n+n:n;case 932:return J+n+L+n+n;case 964:return J+n+L+"flex-"+n+n;case 1023:if(99!==n.charCodeAt(8))break;return s=n.substring(n.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),J+"box-pack"+s+J+n+L+"flex-pack"+s+n;case 1005:return A.test(n)?n.replace(p,":"+J)+n.replace(p,":"+K)+n:n;case 1e3:switch(s=n.substring(13).trim(),t=s.indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=n.replace(D,"tb");break;case 232:s=n.replace(D,"tb-rl");break;case 220:s=n.replace(D,"lr");break;default:return n}return J+n+L+s+n;case 1017:if(-1===n.indexOf("sticky",9))return n;case 975:switch(t=(n=e).length-10,s=(33===n.charCodeAt(t)?n.substring(0,t):n).substring(e.indexOf(":",7)+1).trim(),l=s.charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(s.charCodeAt(8)<111)break;case 115:n=n.replace(s,J+s)+";"+n;break;case 207:case 102:n=n.replace(s,J+(l>102?"inline-":"")+"box")+";"+n.replace(s,J+s)+";"+n.replace(s,L+s+"box")+";"+n}return n+";";case 938:if(n.charCodeAt(5)===ce)switch(n.charCodeAt(6)){case 105:return s=n.replace("-items",""),J+n+J+"box-"+s+L+"flex-"+s+n;case 115:return J+n+L+"flex-item-"+n.replace(H,"")+n;default:return J+n+L+"flex-line-pack"+n.replace("align-content","")+n}break;case 953:if((t=n.indexOf("-content",9))>0)if(109===n.charCodeAt(t-3)&&45!==n.charCodeAt(t-4))return s=n.substring(t-3),"width:"+J+s+"width:"+K+s+"width:"+s;break;case 962:if(n=J+n+(102===n.charCodeAt(5)?L+n:"")+n,c+r===211&&105===n.charCodeAt(13)&&n.indexOf("transform",10)>0)return n.substring(0,n.indexOf(";",27)+1).replace(w,"$1"+J+"$2")+n}return n}function i(e,a){var c=e.indexOf(1===a?":":"{"),r=e.substring(0,3!==a?c:10),s=e.substring(c+1,e.length-1);return Ee(2!==a?r:r.replace(I,"$1"),s,a)}function n(e,a){var c=t(a,a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2));return c!==a+";"?c.replace(G," or ($1)").substring(4):"("+a+")"}function f(e){var a=e.length,c=e.indexOf(":",9)+1,r=e.substring(0,c).trim(),s=e.substring(c,a-1).trim();switch(e.charCodeAt(9)*Pe){case 0:break;case ce:if(110!==e.charCodeAt(10))break;default:for(var t=s.split((s="",C)),n=0,c=0,a=t.length;n<a;c=0,++n){for(var f=t[n],l=f.split(v);f=l[c];){var o=f.charCodeAt(0);if(1===Pe&&(o>_&&o<90||o>96&&o<123||o===re||o===ce&&f.charCodeAt(1)!==ce))switch(isNaN(parseFloat(f))+(-1!==f.indexOf("("))){case 1:switch(f){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:f+=Qe}}l[c++]=f}s+=(0===n?"":",")+l.join(" ")}}if(s=r+s+";",1===ze||2===ze&&i(s,1))return J+s+s;return s}function l(e){for(var a,c,r=0,s=e.length,t=Array(s);r<s;++r){for(var i=e[r].split(m),n="",f=0,l=0,o=0,h=0,u=i.length;f<u;++f){if(0===(l=(c=i[f]).length)&&u>1)continue;if(o=n.charCodeAt(n.length-1),h=c.charCodeAt(0),a="",0!==f)switch(o){case se:case ue:case oe:case he:case ee:case R:break;default:a=" "}switch(h){case ae:c=a+Re;case ue:case oe:case he:case ee:case T:case R:break;case U:c=a+c+Re;break;case ie:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:if(Fe>0){c=a+c.substring(8,l-1);break}default:if(f<1||i[f-1].length<1)c=a+Re+c}break;case te:a="";default:if(l>1&&c.indexOf(":")>0)c=a+c.replace(q,"$1"+Re+"$2");else c=a+c+Re}n+=c}t[r]=n.replace(g,"").trim()}return t}function o(e,a,c,r,s,t,i,n,f){for(var l,o=0,h=a;o<De;++o)switch(l=qe[o].call(b,e,h,c,r,s,t,i,n,f)){case void 0:case false:case true:case null:break;default:h=l}switch(h){case void 0:case false:case true:case null:case a:break;default:return h}}function h(e){return e.replace(g,"").replace(N,"").replace(B,"$1").replace(S,"$1").replace(W," ")}function u(e){switch(e){case void 0:case null:De=qe.length=0;break;default:switch(e.constructor){case Array:for(var a=0,c=e.length;a<c;++a)u(e[a]);break;case Function:qe[De++]=e;break;case Boolean:Me=0|!!e}}return u}function d(e){for(var a in e){var c=e[a];switch(a){case"keyframe":Pe=0|c;break;case"global":Fe=0|c;break;case"cascade":je=0|c;break;case"compress":Ne=0|c;break;case"semicolon":Be=0|c;break;case"preserve":Se=0|c;break;case"prefix":if(Ee=null,!c)ze=0;else if("function"!=typeof c)ze=1;else ze=2,Ee=c}}return d}function b(a,r){if(void 0!==this&&this.constructor===b)return e(a);var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);if(Pe>0)Qe=s.replace(O,t===U?"":"-");if(t=1,1===je)Te=s;else Re=s;var i,n=[Te];if(De>0)if(void 0!==(i=o(He,r,n,n,ye,$e,0,0,0))&&"string"==typeof i)r=i;var f=c(We,n,r,0,0);if(De>0)if(void 0!==(i=o(Ge,f,n,n,ye,$e,f.length,0,0))&&"string"!=typeof(f=i))t=0;return Qe="",Te="",Re="",Oe=0,ye=1,$e=1,Ne*t==0?f:h(f)}var k=/^\0+/g,g=/[\0\r\f]/g,p=/: */g,A=/zoo|gra/,w=/([,: ])(transform)/g,C=/,+\s*(?![^(]*[)])/g,v=/ +\s*(?![^(]*[)])/g,m=/ *[\0] */g,x=/,\r+?/g,$=/([\t\r\n ])*\f?&/g,y=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,O=/\W+/g,j=/@(k\w+)\s*(\S*)\s*/,z=/::(place)/g,F=/:(read-only)/g,N=/\s+(?=[{\];=:>])/g,B=/([[}=:>])\s+/g,S=/(\{[^{]+?);(?=\})/g,W=/\s{2,}/g,q=/([^\(])(:+) */g,D=/[svh]\w+-[tblr]{2}/,E=/\(\s*([^]*?)\s*\)/g,G=/([^]*?);/g,H=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,J="-webkit-",K="-moz-",L="-ms-",M=59,P=125,Q=123,R=40,T=41,U=91,V=93,X=10,Y=13,Z=9,_=64,ee=32,ae=38,ce=45,re=95,se=42,te=44,ie=58,ne=39,fe=34,le=47,oe=62,he=43,ue=126,de=0,be=12,ke=11,ge=107,pe=109,Ae=115,we=112,Ce=111,ve=169,me=163,xe=100,$e=1,ye=1,Oe=0,je=1,ze=1,Fe=1,Ne=0,Be=0,Se=0,We=[],qe=[],De=0,Ee=null,Ge=-2,He=-1,Ie=0,Je=1,Ke=2,Le=3,Me=0,Pe=1,Qe="",Re="",Te="";if(b.use=u,b.set=d,void 0!==a)d(a);return b});